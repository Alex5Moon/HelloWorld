### 快快快，都10个月了，林纳斯要生了！
上一次说到林纳斯吭哧吭哧的搞了很久，10个多月没日没夜的编程，终于把他的终端仿真器越做功能越强大，越来越像一个操作系统了。这个终端仿真器的功能已经远远超过了一个单纯的仿真器。

在1991年7月3日10点零50秒，林纳斯在minix新闻组里发了一个帖子，询问有没有人可以提供一个最新版的POSIX标准。这个就是能在网上找到的最早的，有关林纳斯在搞操作系统的证据。为什么这么说呢？

我们来说一下这个POSIX规则。如果大家想详细了解POSIX的话，可以通过这本书《Unix高级环境编程》的第二章来学习。这本书非常好，所有有志于学习网络编程的人，这本书基本绕不过去，这个作者去世了，叫Richard Stevens。这个作者是1999年去世的，他是个写书的作者，在计算机界，写书的作者那么多，可以说多如牛毛，但是从来没有一个作者能达到他的高度。这本书的第二版的序言是C语言的发明者Dennis Ritchie写的。这个人，每年都有人在他的忌日纪念他，在黑客白客还是灰客中，获得了出奇的一致评价，那就是：备受赞扬！

你如果说一个搞Unix或者Linux网络的，没读过这个作者的书，那我是不信的。TCP/IP的那三本，Unix网络编程的那几本，肯定读过。如果你搞这个，又说没读过，基本上我就认为你在说你小学时候没有加入过少先队员一样，肯定是说谎。我们都曾经是少先队员好不好？谁也别说谁吹牛，我们都吹过牛，都说自己要当社会主义接班人，结果到后来，反正我是没几个有资格接班的！

先别急着去网上下单买这本书，因为把第二章《Unix标准化及实现》读完，光那些缩写的字母，比如ANSI，IEEE，FIPS，X/Open这些字母，想搞清楚，至少2天。还是听我讲个故事吧。

我们中学时候学中国历史，其实通过学历史是一个非常好的洗脑方式，每个国家都一样，我们所有人都被洗的差不多，我们一毕业其实脑子都不怎么好使，一是偏激，二是糊涂，三是很多观点，出奇的一致，比如一说到秦始皇，我们的脑子里就蹦出几句相同的话：他统一了度量衡，统一了文字，统一了货币，统一了中国。

当然，这绝对是一个丰功伟绩，在相同的标准下，办起事儿来却是方便一些。比如你北方写这个字，南方写那个字，秦始皇下个诏书，出了首都咸阳不远，就没人认识了，确实不方便。这个时候，就需要一个强人，把文字统一起来。当时有很多国家，齐国，楚国，燕国，赵国，魏国，齐国，文字不一样，秦始皇就下令统一。这样文字就相同了。当然，这是历史书上教我们的，实际情况可能有很大的出入，我们姑且算真的的吧，我这个公众号也不是讨论历史的真假的，如果仔细追究起来，至少五成是假的吧。不过，历史上这么教，我们就信以为真。

当年，Unix混战的时候，也出现了想同的问题。Unix版本太多，贝尔实验室有，SUN公司有，HP公司有，SCO公司有，IBM公司有，甚至，微软公司也有自己的Unix发行版，叫Xenix［zeniks］，所以，别以为微软多么敌视Unix，都是脚踩两条船的人，谁也别说谁。每个Unix的发行版都有自己独特的地方，现在不是经常讲差异化竞争么，当时每个版本非常有差异化。每个版本都不同，买个软件，在你上面能运行，保证在我上面就不能运行。

当时最大的客户是谁？当然是美国政府了，美国政府买了某个软件，结果只能跑在IBM的Unix上，换个HP公司的Unix就不动弹了，山姆大叔虽然有钱，但是人家可不傻。山姆大叔就下了一道圣旨，以后想要我买你们的操作系统，可以，前提是，你们所有的操作系统都能运行我的某个软件，具体怎么办，你们这些厂商去商量，商量不好，那就不买了。

做生意么，这些厂商也不傻，有钱不赚，专门跟山姆大叔对着干，他们马上就组织人马，开始标准化Unix，Unix标准化的结果就是出了几个版本的POSIX，可能这几个版本的POSIX之间，技术上有差别，但是伺候好山姆大叔的心，一点差别都没有。制定POSIX标准的组织叫IEEE，其目标是实现Unix的可移植性。

对程序员来说，编应用程序的时候，没有人会直接调用系统调用来编程，而是使用应用编程接口（API）来写应用软件。这些API可能调用了一个系统调用，也可能调用了一组系统调用，但是，这些API是一样的，IEEE规定了，如果你想让山姆大叔高兴，想卖软件给山姆大叔，必须遵守POSIX。

然后，所有的Unix厂商都支持POSIX，另外，微软公司的windows也是支持POSIX标准的，也就是说，如果给Unix开发的某个完全支持POSIX标准的软件，从原理上来说，是可以直接不用修改代码，重新编译一下，就能拿到windows上来跑的。windows上的这个标准叫service for Unix， 后来又改名叫Subsystem for UNIX-based Application。然而并没有什么卵用，没人用。到windows 8.1的时候，这个东西就从windows中彻底取消了。现在的windows 10和ubuntu合作，直接运行ubuntu的软件。我还没有试过，因为我用了一台真的ubuntu。

对Unix来说，通过支持POSIX，一下子就像秦始皇统一度量衡一样，Unix的软件可移植性大大提高了。讲了这么多，为啥林纳斯需要这个POSIX标准呢？因为当时已经有大量的支持POSIX的软件已经存在了，林纳斯只要让他这个系统支持POSIX标准，那些软件就能运行在他这个系统上了。大家说，这是不是最聪明的选择？

如果你不支持POSIX，所有的软件都要林纳斯自己写，那这个操作系统肯定失败了，没人会乐意给一个不支持POSIX的新操作系统写软件的。而一旦支持了POSIX，就天然拥有了海量软件。所以，另外一个开源界的巨头Richard Stallman，每当谈起Linux就生气，因为Linux其实只有一个支持POSIX的内核，其它的很多软件，都是在他的努力下建立起来的。Richard Stallman同志的痛心疾首也是有道理的，他真的是做到了万事俱备，只欠一个内核，他的内核在林纳斯之前，就已经开发中了，名字叫GNU Hurd，但是呢，至今，2016年8月17日，我录音频的这个时候，已经26年了，GNU Hurd内核还没有开发成功。这个内核最初的名字叫Alix，是斯托曼同志26年前的女朋友的名字，现在26年过去了，那个女朋友早已经飘散在天涯，可能成了几个孩子的妈妈，但是，我们的斯托曼同志，至今还是单身，只是，这个可能还要开发26年也不一定能成功的内核，名字早就不叫Alix了。这真是一个悲伤的故事。

所以，每次斯托曼同志讲到Linux，总是要把他的GNU放在最前面，叫GNU/Linux，如果有人胆敢在他面前说Linux，而没有在Linux前面加上GNU/Linux，他会马上起来大声的纠正，你不修改，那你就惨了，这个今年63岁的前辈，精力永远处于18岁，至今没人能辩论过他，我们现在经常使用的gcc，gdb，emacs编辑器，都是出自这位前辈之手。

如果这个世界上只有一个人能符合这个标准：一个高尚的人，一个纯粹的人，一个有道德的人，一个脱离了低级趣味的人，一个有益于人民的人。在我心中，这个人是理查德·斯托曼，如果有两位的话，我才认为是他和林纳斯。如果有三位的话，再加上我老婆。

希望我把POSIX有多么重要给讲清楚了，能完美支持POSIX的操作系统，在当时，就如同，一台只缺一个发动机的超级跑车兰博基尼，林纳斯这个幸运儿，就造出了这台发动机，万事俱备，连东风都来了。

在我前面说到的，林纳斯发了一个帖子，求POSIX的标准，希望有人能发他一份，作为一个当年人微言轻的小伙，没有人鸟他，他就实施了他的B计划，到学校的图书馆找了一本SUN公司Unix的手册，开始自己反向编译那些系统调用，然后他还从其它一些书上，把系统调用给研究的差不多了。后来，他设法弄到了几本厚厚的POSIX标准的材料。

我们这里有句古话，行家一出手，就知道有没有。林纳斯一发出那个帖子，就有高手意识到了一个问题，这家伙在写一个操作系统。这个高手就是赫尔辛基理工大学的助教阿里·莱姆克，他在这个帖子下回复：你在做操作系统吧，我已经给你在FTP上创建了一个文件夹，等你做好了，记得传上来。

如果我们学UNIX上的网络编程，我们会学什么？当然是学API了，根本用不着学POSIX。如果你看到有人在学习POSIX，只有两种情况，一种是他想做个操作系统，第二种就是他拿错书了。

希望通过这篇小文章，让大家知道了POSIX的重要性。下一次，开始讲Linux出生的故事！

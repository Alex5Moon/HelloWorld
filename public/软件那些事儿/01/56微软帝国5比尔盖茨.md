### 好啦，好啦，我知道我写的形散神亦散...
在林纳斯的自传《只是为了好玩》里，林纳斯这样说：我个人觉得，计算机科学和物理科学有不少相似的地方。它们都是在一个非常基础的层面上，探讨整个科学的运作原理。当然，不同的是，在物理科学上，你得先弄清楚这个已存在的世界是如何正常运转的；而在计算机科学上，你得从零创造出一个新的世界来。在计算机的世界里，你就是创始者，对这个世界里发生的一切具有最终决定权。如果鼓捣的够好，你就是这个世界的上帝。

计算机上所有功能要起作用，都得以操作系统为基础。于是创造一个操作系统就成了终极挑战。你创造操作系统的时候，相当于给所有在这部电脑上跑的程序创造了一个全新的生存环境──从根本上说，其实就是在制定这个世界的规则：什么事情可以接受，可以做，什么事情不可以接受，不可以做。其实所有的程序都是在制定规则，只不过，操作系统制定的是最根本的规则。创造一个操作系统，就相当于为自己创造的一方土地制定宪法，而在电脑上跑的程序相当于各式各样的普通法律。

还有一个职位，也是给自己创造的一方土地制定宪法，这个职位就是皇帝。以明朝为例，洪武皇帝朱元璋，不但马上打天下很厉害，同样，制定完备的法律也是一等一的高手。等一会儿，我们再把微软的windows NT的老大请出来，分别比较创造了Linux的林纳斯，创造了Windows NT的科特勒，创造了明朝的朱元璋，本质上，他们干的是相同的事情。就是创造终极规律。

按照年龄的大小来排序，先说朱元璋，毕竟他已经600多岁了，先从他开始讲。朱元璋打了20年的仗，在1368年在应天府称帝，建国号大明，年号洪武。应天就是南京，当时的北京不是现在的北京，当时开封被称为北京，元大都的位置就是现在北京的位置。他建立了明朝，经过二十多年的乱战，中国大地上早就已经生灵涂炭，天地荒芜。就相当于是买了一台电脑，没有操作系统一样。朱元璋要给他买的这台电脑，从0开始安装一个操作系统，当然了，当皇帝，操作系统也得自己写，没有人卖国家的操作系统。只能自己写。

朱元璋很快就制定了《大明律》和《大诰》的法律，规定了各种刑法。我们可以把这些基础的刑罚，想象成一个操作系统最基础的系统调用，在讲Unix和Linux的时候，我讲过几个最重要的系统调用。朱元璋的这两部法律，也规定了很多国家的系统调用。类似于国家操作系统的POSIX标准。这些法律规定了几种徒刑，用白话文来说就是用小棍子打人，用大棍子打人，有期徒刑，流放，死刑。这五种主要的级别。当然，和操作系统一样，不可能只有5种系统调用，里面有五花八门的细分类别的东西。比如，死刑里，就又分为好多种死刑。希望听到这里的人，如果你在吃饭，希望你能马上关掉，我们的祖先，死刑的花样非常多，每一种都能让人把隔夜饭都能吐出来。比如大家耳熟能详的凌迟处死，就是把人一片一片一片一片一片一片在天空静静缤纷... 传闻说，有个人，被切了3000多片了，人还没死。还有几个大家不太知道的，比如，抽肠，这个抽肠子老外也经常用，比如那个威廉华莱士就是把肠子抽出来; 还有一个更恐怖的，先用开水浇身上，先弄个3成熟，然后用铁刷子刷，和牛排差不多，可以选几成熟，这个刑罚的名字叫刷洗；再来一个，名字叫秤杆，如果大家看过<笑傲江湖>，里面的任我行被囚禁在西湖湖底，当时有个电影，就是给任我行使用的秤杆这个刑罚，具体来说，就是和市场上卖猪肉的差不多，用个秤杆，把活人勾住肩胛骨这里，给吊起来，然后晒干。据说，有个人吊了10来天才死的。任我行在西湖湖底，见不到阳光，可能减缓了他的死亡。

我上面所说的这些，都写在明朝的法律《大诰》里面，每个老百姓必须得熟读，口口相传，而且和《毛泽东选集》一样，家家户户都必须有一本。如果有一本，等到自己犯罪了，罪减一等，如果家里没有，罪加一等。比如原来是流放，这时候衙役押着犯人先去家里，找这本书，如果找到了，不用流放了，改打板子；如果没找到，也不用流放了，罪加一等，直接家门口砍头。这就是朱元璋在他新买的电脑上制定的一些规则，好不好再说，反正他就这么制定的。也没人敢说不好。

按照年龄大小，来说微软NT操作系统的老大科特勒，他比林纳斯大，再说他。他加入微软的时候，已经46岁了，比本文要说的第三个人林纳斯大27岁，所以，再说他。他加入微软的时候，微软还在卖DOS操作系统，并且，还和IBM共同开发了一个叫OS/2的操作系统。这些操作系统比较烂，起码科特勒这么认为，首先呢，这些操作系统使用汇编语言写的，这些操作系统不能移植。卡特勒想重新定义规则，让这些操作系统可以移植，这是windows NT的一个重要的目标。还有，以前的操作系统，一个应用程序就能把整台电脑搞死机。放在国家的层面上，相当于一个人造反，全国都崩溃，这是科特勒极力要避免的事情。当然，也是朱元璋极力要避免的事情。从某种意义上来说，科特勒，林纳斯和600年前的朱元璋，关心的是一样的问题。如何才能让这些不听话的臣民，乖乖的听话呢？当然，科特勒，林纳斯的臣民是应用软件，朱元璋的臣民是活生生的人，异曲同工之妙的是，他们无一例外的选择了相同的解决方法──职业分配制度。

由于我写了10几期的Linux的历史，已经把关于Linux的技术细节讲的差不多了，我觉得还是不再重复了。我来讲讲他们共同选择的相同方法──职业分配制度。在操作系统中，每段程序都有自己严格的角色，有的负责内存管理，有的负责进程管理，有的负责文件读写，有的负责设备管理，每一段程序都有自己独特的职业，绝对不可以乱来。负责内存管理的代码不可以插手负责进程管理的工作，负责文件读写的代码不可以越权到设备管理上。这个严格分配职业角色的方法，在操作系统上取得了巨大的成功。

那朱元璋是怎么给他的新电脑写的操作系统呢？也是一样，职业分配制度。他将人的职业划分为三种，军户，农户，匠户。其中军户就是打仗的，农户就是种地的，匠户就是修城墙，有工匠精神的，放今天，应该是造手机的，可惜当年没有人造手机，否则苹果早就被朱元璋给搞破产了。

如果你是军户，那好，你的儿子也是军户，孙子也是军户，一直都是军户，等到要打仗，就让你家派人去！大家想到了吧，Linux里创建新的进程，也是这样，新的进程除了进程号不同，其它的都是和他老子一样，老子能干啥，他儿子就能干啥。这是老朱规定的更死板。还有各种各样的规定，说实在的，不比开发一个操作系统简单，甚至说，更难，而且还难若干倍。

在开发一个操作系统的过程中，一段代码是不能随便访问其它内存的，这叫内存保护机制。老朱也有这个机制，叫户籍制度，如果你想出门，得有官方盖章的路引，类似于20年前中国的介绍信，如果没有，不好意思，有劳教所，先去呆两年。这个户籍制度，相当的恶心，人只要是一出生，只能在自己出生地几公里或者十几公里的范围内，一个活生生的动物，类似给搞成了植物。在操作系统中，有内存保护机制是对的，但是对热爱自由的人来说，那就相当不对了！

在操作系统中，老朱，卡特勒和林纳斯，都建立了一个等级分明，秩序严谨的法律。在这个结构中，有的只能种地，有的只能当兵，有的只能管理内存，有的只能管理设备，一出生，一生的命运就此确立，龙生龙，凤生凤，老鼠的儿子要打洞。和进程一样，你老爸干啥，通过fork出来的儿子进程，也差不多干啥，不可能普通用户的进程，干Root用户进程的活。

从操作系统的角度来说，这就是一个完美的模型，所以，windows NT，Linux，Unix无一例外的取得了成功。在这个模型里，所有的东西都各司其职，互不干扰，泾渭分明，我走我的阳关道，你走你的独木桥。从这一点来说，朱元璋，林纳斯和卡特勒，无疑都是自己王国的帝王，制定了完美的规则，并且，这些完美的规则完美的执行着。所以，我们今天使用的Windows还是WindowsNT的核心，我们今天使用的Linux，林纳斯依然控制着内核。

好像有点不对，我们今天的制度，已经不是朱元璋的制度了，虽然还是有很多的影子，比如户籍制度，干啥也得分户口，直到今天，人还是被分为三六九等，但是，客观来说，背着个包，出去旅个游，是不用再开介绍信了，我觉得今天还是比明朝有相当大的进步，虽然明朝科举的时候，是不看户口的，而且是全国统一试卷。其实，老朱制定了这么严格的规定，他去世以后，经不住时间的考验，明朝中期，流民四起，宦官干政，相当于朱元璋的操作系统里，到处都被感染了病毒。

毫无疑问，林纳斯是伟大的，他创造了Linux，科特勒是伟大的，他创造了windows，朱元璋是伟大的，他创造了明朝。从某种层面上来说，他们都是伟大的帝王，规则的制定者。朱元璋的操作系统，最终还是失败了，WIndows NT，在某天，也毫无疑问的会失败；Linux会失败么？我斗胆猜测一下，Linux可能会很长久的存在下去。因为Linux开始的时候由林纳斯建立，随后，真正支配Linux历史的其实是千千万万普通的用户，千千万万普通的开发者。

即使强人如朱元璋，如微软，他们终究抵抗不过，千千万万普通人。这些普通人，也许是开车的司机，也许是挑灯夜读的学子，也许是外出打工的父亲，也许是失学在家的儿童。这千千万万的人，永远不会在世界上留下自己的名字，但是，他们的每一次选择，每一次欢笑，每一次痛苦，每一次流泪，组成了历史的长河，他们是水，而朱元璋，林纳斯和比尔盖茨，这些人是水上飘着的舟。水能载舟，亦能覆舟。

linux选择了开源，从某种程度上，意味着选择了人民，无数的人，贡献者或多或少的代码。微软从敌视开源，到拥抱开源，只有选择了开源，选择了人民，只要微软足够开源，微软也就变成了Linux。

从明朝建立到衰亡，经历了276年，16任皇帝，然后清朝建立，又经历了268年，10个皇帝，然后是民国的孙中山，袁世凯，蒋介石，从清朝灭亡到今天，已经又过去了104年... 每个人都试图给中国这台电脑上，安装一个健壮的操作系统，都没有成功，不知道，什么时候才能成功... 一个好的操作系统，应该汇集人民的力量，就像Linux一样，尊重创造历史的人民...

最后，做一个调查，你喜欢开发一个优秀的操作系统，还是当一个皇帝。在我的微信公众号──软件那些事儿──里二选一，我选当皇帝。
